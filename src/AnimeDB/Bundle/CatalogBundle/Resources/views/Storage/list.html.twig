{% extends 'AnimeDBCatalogBundle::layout.html.twig' %}

{% block title %}{% trans %}Storages{% endtrans %}{% endblock %}

{% block content %}
<div class="storages-list">
	<h3>{% trans %}Add storage{% endtrans %}</h3>
	<p>{% trans with {'%link%': ''}%}Jump to the <a href="%link%">form</a> of adding storage.{% endtrans %}</p>
	{% if storages is not empty %}
		<h3>{% trans %}List of storages{% endtrans %}</h3>
		<table class="list">
			<tr>
				<th>{% trans %}Name{% endtrans %}</th>
				<th>{% trans %}Description{% endtrans %}</th>
				<th>{% trans %}Path{% endtrans %}</th>
				<th class="control"></th>
			</tr>
			{% for storage in storages %}
				<tr>
					<td>
						<a href="" title="{% trans %}Change storage{% endtrans %}" class="icon-label icon-storage">{{ storage.name }}</a>
						(<a
							href="{{ path('home_search', {'search_items[storage]': storage.id}) }}"
							title="{{ '{0} No items in storage|{1} Is one item in storage|]1,Inf] %count% items in storage' | transchoice(storage.items.count) }}"
						>{{ storage.items.count }}</a>)
					</td>
					<td>{{ storage.description }}</td>
					<td>{{ storage.path }}</td>
					<td class="control">
						<a href="{{ path('storage_change', {'id': storage.id}) }}" class="icon icon-storage-edit">{% trans %}Change storage{% endtrans %}</a>
						{% if storage.items.count == 0 %}
							<a href="" class="icon icon-storage-delete">{% trans %}Delete storage{% endtrans %}</a>
						{% endif %}
					</td>
				</tr>
			{% endfor %}
		</table>
	{% endif %}
</div>
{% endblock %}